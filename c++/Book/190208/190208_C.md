# 190203_C

## 1.`malloc`과 `free` 자료구조

> `malloc`의 자료형과 `malloc`은 왜 포인터를 이용해서 사용해야 하는가??

### 1.1. `malloc`은 `void *`이다.

 `malloc`의 함수 원형

```c
void *malloc(unsigned int);
```

`malloc`은 return 형태가 `void *`로 정해져 있지 않은 자료형이다.

따라서 `malloc`을 사용할때 캐스트 연산자를 통해서 해당 return 값을 형변환하여 사용한다.

그렇기 때문에 다음과 같은 구조가 나오는것이다.

```c
(int *)malloc(4);
```

이처럼 `malloc`은 `void *`형의 retrun 값을 내기때문에 포인터로 받아야 한다.

그렇다면 `malloc`은 왜 포인터를 return하는 것일까??

### 1.2. `malloc`은 메모리를 동적으로 할당하고 그 주소값을 넘겨준다.

![malloc](..\images\190208_c_malloc_1.jpg)[^1] 

`malloc`은 메모리를 동적으로 할당하고 메모리 블록의 첫 번재 바이트에 대한 주소값을 반환하는 구조를 한다. 따라서 해당 메모리에 접근하고 메모리에 담긴 자료를 이용하기 위해서는 포인터 형태를 띄는게 무엇보다 자연스럽다.



-------------------------------------------------------
git에서 각주 안보이나?
[^1]:https://slidesplayer.org/slide/14988904/